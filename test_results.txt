RBAC END-TO-END TEST RESULTS
================================================================================

[PASSED] Infrastructure - Admin path should bypass RBAC
  User: viewer_a
  Request: GET /admin/
  Expected: PASS
  Actual: PASS

[PASSED] Infrastructure - Static path should bypass RBAC
  User: viewer_a
  Request: GET /static/css/style.css
  Expected: PASS
  Actual: PASS

[PASSED] Infrastructure - Media path should bypass RBAC
  User: viewer_a
  Request: GET /media/uploads/file.pdf
  Expected: PASS
  Actual: PASS

[PASSED] Anonymous - Anonymous user should bypass middleware
  User: Anonymous
  Request: GET /api/enquiries/
  Expected: PASS
  Actual: PASS

[PASSED] API Resolution - Registered API should resolve
  User: viewer_a
  Request: GET /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] API Resolution - Unregistered API should fail at resolution
  User: viewer_a
  Request: GET /api/completely-unknown-endpoint/
  Expected: FAIL
  Actual: DENY: API not registered

[PASSED] Tenant Subscription - User should BE BLOCKED when tenant module is disabled
  User: viewer_a
  Request: GET /api/^enquiries/$
  Expected: FAIL
  Actual: DENY: Module/Submodule disabled for tenant

[PASSED] Tenant Subscription - User should HAVE ACCESS when tenant module is enabled
  User: viewer_a
  Request: GET /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Permissions - Viewer CAN view (Crm/Leads)
  User: viewer_a
  Request: GET /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Permissions - Viewer CANNOT create (Crm/Leads)
  User: viewer_a
  Request: POST /api/^enquiries/$
  Expected: FAIL
  Actual: DENY: Permission denied

[PASSED] Permissions - Viewer CAN view (Crm/Deals)
  User: viewer_a
  Request: GET /api/^quotations/$
  Expected: PASS
  Actual: PASS

[PASSED] Permissions - Viewer CANNOT create (Crm/Deals)
  User: viewer_a
  Request: POST /api/^quotations/$
  Expected: FAIL
  Actual: DENY: Permission denied

[PASSED] Permissions - Editor CAN view
  User: editor_a
  Request: GET /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Permissions - Editor CAN create
  User: editor_a
  Request: POST /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Permissions - SuperAdmin CAN view
  User: admin_b
  Request: GET /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Permissions - SuperAdmin CAN create
  User: admin_b
  Request: POST /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Tenant Isolation - User from TestTenant can access with valid permissions
  User: viewer_a
  Request: GET /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Tenant Isolation - User from SecondTenant can access with valid permissions
  User: viewer_b
  Request: GET /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Hierarchy - Permission at submodule level should work
  User: viewer_a
  Request: GET /api/^enquiries/$
  Expected: PASS
  Actual: PASS

[PASSED] Edge Cases - OPTIONS request should work if user has options permission
  User: admin_b
  Request: OPTIONS /api/
  Expected: PASS
  Actual: PASS

[PASSED] Edge Cases - OPTIONS without permission should fail
  User: viewer_a
  Request: OPTIONS /api/
  Expected: FAIL
  Actual: DENY: Permission denied


================================================================================
SUMMARY: 21/21 passed (100.0%)
================================================================================
